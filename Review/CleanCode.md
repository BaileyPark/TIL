# 클린코드

## 들어가면서
1. 깨끗한 코드를 작성하는 원칙, 패턴, 실기 설명
2. 문제가 있는 코드를 문제가 더 적은 코드로 바꾸는 연습
3. 사례 연구에서 수집한 냄새와 휴리스틱(Heuristic)
- 휴리스틱? (Heuristic) - 발견법, 어림짐작, 불충분한 상황에서 빠르게 사용할 수 있게 보다 용이하게 구성된 간편추론의 방법

## 1장 깨끗한 코드
### 기억하고 싶은 내용
> 중복을 피하라. 한 기능만 수행하라. 제대로 표현하라. 작게 추상화하라.
- 최근들어 가장 집중하고 있는 일이기도 하다.
>코드를 읽는 시간 대 코드를 짜는 시간 비율이 10대 1을 훌쩍 넘는다. 새 코드를 짜면서 우리는 끊임없이 기존 코드를 읽는다.
- 평일을 나를 돌아보면, 내가 쓴 코드나 남은 쓴 코드를 읽는 시간으로 반나절보내는 내가 자연스레 떠올려졌다.
### 소감 혹은 생각
- 입사했을 때의 내 모습과 현재의 내 모습을 되돌아볼 수 있는 시간..
- 왜 많은 회사가 객체지향에서 함수형으로 넘어가는지 느껴지는 부분이 많다
### 궁금한 점
- 르블랑의 법칙? (LeBlanc's Law states) - 나중은 절대 돌아오지 않는다는 법칙

## 2장 의미 있는 이름
### 기억하고 싶은 내용
> 발음하기 쉬운 이름을 사용하라
- 매번 회사와 직결되지만, 미묘하게 다르지만 변수명을 설정하는 동료분이 구글 번역으로 만든 변수명을 스스로도 발음할 수 없는 경우가 있었어서 크게 공감이 되었다. 문제가 되는 요소를 누군가에게 말할 수가 없다. 발음할 수가 없으니까..
> 자신의 기억력을 자랑하지 마라
- 가끔 자신감이 넘치는 개발자를 보면 변수명들이 심히 짧다(그리고 영어를 잘하죠). 예를 들자면, crma라는 이름의 변수가 뭘 뜻하는지 몰라서 이곳저곳의 불러오는 함수들을 다 파악하고나서야, '현재상환금액'을 뜻하는  CurrnetRepaymentAmount 라는 것을 알게 되었다.
> 기발한 이름은 피하라
- 이것 또한 에피소드가 입사 이후, '지방세'의 변수명이 FatTax라는 걸 깨달은 후의 충격은 이로 말할 수가 없었다. 만든 사람이 예전에 퇴사해서, 진심이었는지 장난이었는진 아직도 모른다.
### 소감 혹은 생각
- 앞으로도 공감할 장들이 많겠지만, 2장은 입사 이래 지금까지 공감이 많이 되는 영역이 너무나도 많았다.
- 반대로 말하자면, 지금까지 내가 짰던 이름들의 되돌아보고, 앞으로의 짜야할 이름들이 명확해지는 계기가 되었다.
### 궁금한 점
- 불용어? (Noise word, Stop word) - 검색 용어로 사용하지 않는 단어

## 3장 함수
### 기억하고 싶은 내용
> 함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.
- 이걸 이해하기까지 오랜 시간이 걸렸던 것 같다. 반대로 하나의 함수 안에, 인수값만 변경되면 다른 수많은 기능이 돌아갈 수 있도록 설계를 하였다. 그리고 시간이 지나 유지보수 기간이 다가왔을 때, 내 잘못을 깨달았다. 그리고 기능별로 함수를 나누고, 또 나누었다.
> 서술적인 이름을 사용하라!
- 2장 의미 있는 이름과 비슷한 사항이지만, 함수명을 두고 개발자들끼리 명사로 짓냐, 동사로 짓냐, 사역형으로 짓냐 별의미없는 것으로 논쟁이 벌어졌던 적이 있었다. 후에 그 논쟁은 별의미없는 것이 아니었다는 것을 깨닫는데는 그리 오랜 시간이 걸리지 않았다.
> 함수 인수 (많은 쓰는 단항 형식, 이항 함수, 삼항 함수)
- 첫 번째 내용과 결이 같지만, 10개가 넘는 인수들마다 TRUE냐 FALSE냐로 하나의 함수에 다른 기능이 실행되도록 짜놓은 내 함수는 흑역사가 되었다.(바꿔도바꿔도 꼭 어딘가엔 남아있다..)
> 부수 효과를 일으키지 마라! & 반복하지 마라!
- 함수형 프로그래밍을 보면서 많이 느끼는 바이다. 부수 효과는 곧 오류라는 걸.
### 소감 혹은 생각
- 글귀 하나하나를 읽으면 읽을 수록 흑역사(현재도 존재하는)가 꿈 속까지 따라올 기세로 파고 들어온다.
- 대가 프로그래머는 시스템을 구현이 아니라 풀어가는 이야기라는 것에 너무 공감한다. 코드를 잘 치는 것도 중요하지만, 시간을 들여서라도 정책을 세워서 짜는 게 우선인 듯 싶다.
- 부끄럽다..

## 4장 주석
### 기억하고 싶은 내용
> 나쁜 코드에 주석을 달지 마라. 새로 짜라.
- 시작부터 속을 파고 드는 명언이다. 나는 나쁜 코드든, 좋은 코드든 주석을 남기라고 하는 편이었는데 이번을 계기로 다른 곳에 문제가 있는게 아니라 내가 문제였다는 걸 깨달았다. "이런! 주석을 달지 말아야겠다!" (그리고 쉰들러 리스트는 내 명작 리스트 중 하나이다.) 
> (좋은 주석) 결과를 경고하는 주석 & TODO 주석
- 결과를 경고하는 주석은 생각지도 못한 아이디어라고 생각해서 기억에 남았다. 보통 전체 코드를 주석처리하거나 커밋하지 않아버리지 주석으로 경고를 해서 충분한 시간을 요하게끔 퀘스트를 주는 듯한 주석은 나에게 있어선 신박했다. TODO 주석은 단지 요새 내가 자주 사용하는 주석 처리 방식이라 마음에 들어서 :) // 과제가 많이 남았으니 주절 금지
> (나쁜 주석) 같은 이야기를 중복하는 주석 & 의무적으로 다는 주석 & 있으나 마나 한 주석 & 주석으로 처리한 코드 & 비공개 코드에서 Javadocs
- 조금 충격이었다. 내 가치관이 박살이 났다. 항상 중요하게 여기고, 쓸때없는 주석도 누군가에겐 도움이 될거라 (많이) 설파했었다. 그리고 그렇게 행동했었지만, 내가 나쁜 주석의 선두주자라는 것을 오늘에서야 깨달았다. 팀원들에게 어떻게 말해야할지 모르겠네.. 진작에 클린코드 좀 읽을 걸(아니야, 지금이라도 읽는 게 중요한거지) 조금씩이나마 나의 의무감을 더 의미있는 방향으로 나아가려고 노력해야겠다. 정말 노력해야겠다.
### 소감 혹은 생각
- 아, 지옥이다. 그리고, 나는 쓰레기다.
- 좋은 주석은 없고, 나쁜 주석의 예시만 한가득한 내 소스코드를 보고 있자니, 내가 너무 어리석었다는 느낌을 어떻게 생각해봐도 배제할 수가 없다.
- 다시 배울 수 있는 좋은 기회라고 생각하자!
- 그래도 주석은.. 아니다, 고치자.

## 5장 형식 맞추기
### 기억하고 싶은 내용
> 세로 밀집도
- 솔직히 '한눈'에는 들어오지만, 한눈에 들어오는 것이 주석을 버려가면서 가독성을 상승시키는 코드가 좋은 코드인지는 잘 모르겠다. 적어도 내게는 그렇다.
> 가로 공백과 밀집도
- 그닥 차이를 자세히 느끼지 못하곘다. 그 사소한 차이를 잡는 것이 개발자의 덕목이라면, 나는 아직 한참 먼 것 같다..
> 팀 규칙
- 항상 언어마다의 코딩 규칙을 찾고 이행하려고 노력은 하지만, 개인적인 부분이라 팀에게 전달하지는 않았지만, 이번을 핑계삼아 팀원들에게 전체에게 설파할 계기가 생겼다! (아싸)
### 소감 혹은 생각
- 이번 5장은 아직 이해력이 낮은 나로써는 이해하기 힘든 부분이 많았다. (그만큼 내 자신이 반면교사라는 말이겠지)
- 그럼에도 불구하고 일단 적용해볼 생각이다.
- 적용을 해서 불편함을 찾는다면 주저없이 원복할 생각이다.
- 하지만 항상 좋을 길을 찾을 것이라는 믿음은 꺽이지 않았다.

## 6장 객체와 자료 구조
### 기억하고 싶은 내용
> 기차충돌
- 무조건 짧은 줄이 빠르다며 늘어놓은 줄을 최대한 줄이려는 개발자를 본 적이 있다. 21세기가 되어도 이렇게 해야 더욱 간결하고 인코딩을 컴퓨터가 훨씬 빨리 인식하다는 시대를 역행하는 듯하면서도 맞는 그의 언변에 아무도 토를 달지 않았다. 물론 매번 해당 코드를 읽는 다른 개발자(본인 포함)들은 자연스레 해당 메서드들을 한번씩 훑는 게 당연하게 되어버렸다. 마치 그게 정답인 듯이. 정답이 맞기도 한 것 같다. 매번 메소드를 해석해야 할 필요만 없다면, 나쁘지 않는다고 '생각'은 든다.
### 소감 혹은 생각
- 사실 함수 단위의 형태로 활용하는 최근에는 공감이 안된다기 보단, 으흠? 하면서 넘어가는 부분이 많았다. 이제와도 같겠지만, 아직 가슴 깊이 와닿지 않는 부분 때문일 것이다.
- 내가 조금더 객체지향적으로 작업을 진행한다면, 이 책을 읽기 전의 나와 읽고 난 후의 내 소스코드는 많은 변화가 있을 것이란 것이 믿어의심치 않을 것이다. (것것것)
### 궁금한 점
- 기차 충돌? (Train wreck) - 다른 메서드 호출의 반환 값에 대해 다시 메서드를 호출(메소드 체이닝)하는 코드

## 7장 오류 처리
### 기억하고 싶은 내용
> Try-Catch-Finally 문부터 작성하라
- 2년 전 나의 모습과 지금의 나의 모습을 비교해볼 수 있는 최고의 확인 작업은 역시나 예외 처리인 것 같다. 모든 것을 If문으로만 처리하던 내가 잊고 있던 Try-Catch의 편리함을 발견했을 때의 감탄사는 지금도 그 당연한 짜릿함을 마음 속에 가지고 있는 듯 하다.
> null을 반환하지 마라 & null을 전달하지 마라
- 이건 지금도 생기는 과거의 망령이라 불리는 레거시 코드에서 일어나는 현실이야기다. 물론 해당 레거시 코드에는 나도 한 부분을 차지하기 때문에 입이 열개라도 할 말은 없지만, 'null, undefined, 0, false'같은 값을 받거나 줄 때는, 감히 누군가 아무 생각없이 던진 돌이 개구리(물론 우리의 소스코드)를 맞출 거라는 생각을 1도 하지 않았다는 거다.
### 소감 혹은 생각
- 사실 함수 단위의 형태로 활용하는 최근에는 공감이 안된다기 보단, 으흠? 하면서 넘어가는 부분이 많았다. 이제와도 같겠지만, 아직 가슴 깊이 와닿지 않는 부분 때문일 것이다.
- 내가 조금더 객체지향적으로 작업을 진행한다면, 이 책을 읽기 전의 나와 읽고 난 후의 내 소스코드는 많은 변화가 있을 것이란 것이 믿어의심치 않을 것이다. (것것것)
### 궁금한 점
- OCP? (Open Closed Principle) - 기존의 코드를 변경하지 않으면서 기능을 추가할 수 있도록 설계가 되어야 한다 (동음이의어. 오라클자격증)

## 9장 단위 테스트
### 기억하고 싶은 내용
> TDD 법칙 세 가지
- 사실을 모르는 사람이라는 것만으로도 심장이 아파온다.. 나는 정말 무식한 환경속에서 형상관리 하나만을 믿고 살아왔구나를 깨닫게 되는 글귀였다. 세가지의 요소들을 차분히 읽으면서 앞으로의 나의 미래를 그려보았다. 솔직히 잘 이해는 되지 않았지만, 그 알 것 같은 느낌은 들었다. 누군가 그 느낌부터가 시작의 발판이라고 나에게 말해줬던 기억이 생각났다. 이런 느낌이구나..
> 깨끗한 테스트 코드
- 나도 가독성을 가장 중요하게 보는 요소라고 생각한다. 다만, 가독성이 나에게만 편한건지 남에게도 편한건지에 대한 의문은 항상 마음 속에 있었지만.. 먼저 스스로가 가독성이 편하다고 생각하는 테스트 케이스를 만든 뒤에, 그 테스크 케이스를 코드 리뷰해보자는 단순한 생각이 들었고, 생각보다 마음에 든 생각 중 하나가 아닐까라고 다시 생각했다.
### 소감 혹은 생각
- 내가 바라는 미래자 희망, 내가 바라는 개발 문화의 3요소(형상관리, 자동화, 단위테스트) 중 하나.
- 마지막 결론에서도 말하지만, 내가 본 것은 정말 수박 겉핥기다. 그렇다. 나는 수박을 모르고 살아왔다. 수박이라 여겨왔던 호박일 것이다. 줄 긋는다고 수박이 되지 않는다는 어르신의 말씀처럼, 이제는 호박이 아닌, 수박으로 먼저 깨긋한 테스트 코드라는 작은 이해만으로 수박을 겉을 핥을 때가 온 것이다. 
### 궁금한 점
- 애자일(Agile)? 신속한 반복 작업을 통해 실제 작동 가능한 소프트웨어를 개발하여 지속적으로 제공하기 위한 소프트웨어 개발 방식 또는 다양한 방법론 전체를 일컫는 말
- TDD? (Test Driven Development) - 테스트 주도 개발, 매우 짧고 작은 단위의 테스트 케이스(사이클)를 작성, 통과, 또다른 케이스를 재작성하는 단계를 반복 구현하는 소프트웨어 방법론

## 10장 클래스
### 기억하고 싶은 내용
> 클래스는 작아야 한다!
- 만능 클래스로 우리내 회사의 메인클래스(우리는 코어라고 부른다)는 모.든.것.을 담당하고 있다. 초반에 설계가 그렇게 짜여있어 따라간 것도 없잖아 있지만, 그만큼 편리한 것도 없었다. 모든 것은 코어로만 흘러가면 되게끔 디자인하면 되기 때문이다. 하지만 몇년이 지난 지금, 서서히 컴포넌트 단위로 클래스를 쪼개는 작업을 기획하고 있다. 하나의 클래스에 너무 많은 기능이 몰려있어 단위 테스트의 어려움이 있다는 회의 결과였다. 어린왕자의 여우마냥 길들여진 클래스가 나뉘어져 갈 것을 예상해보며 공감이 안되던 부분이 내 무지였던 걸 깨닫는게 해주었다.
> 단일 책임 원칙
- 치부를 들추는 기분이다. 딱 읽다가 '돌아가기만 하면 되는 거 아냐?' 라던가, '함수는 몰라도, 클래스가 자잘하게 많아지면 이해하기 힘들어지지 않을까?'라는 생각을 들 때, 너가 그런 생각을 할 줄 알았어 라며 명치에 스트레이트를 날려버린다. 나는 왜이리 단순하게 설계되어 있는가?
### 소감 혹은 생각
- 레거시코드를 리팩토링해서 클래스를 나눠가거나, 새로운 클래스를 작성할 때 이제 나에겐 정답에 가까운 간접경험을 알고 있다. 전엔 단순히 A에서 B였다면, 지금은 최소한 B에서 C로 나아갈 수 있는 길은 찾은 것 같다(아직도 같다지만).
- 기획이란, 리팩토링이란, 경험에서 우러나오는 것이며, 그 간접경험을 할 수 있는 것이 클린코드라는 것을 새삼 깨닫는다.
- 이 책을 읽기 전의 나와 지금의 나는 많이 바뀌었을까? 당장 적용에는 큰 요소가 되진 않을 것이다. 다만, 스스로가 디테일해졌다는 점에선 공감한다.
### 궁금한 점
- RDD? (Responsibility Driven Design) - 책임 주도 설계, 책임을 정한 후, 책임을 수행할 객체를 결정 (반대말. 데이터 주도 설계 / 동음이의어. Resilient Distributed Dataset)

----
#노마드클럽 #북클럽 #노개북
